<launch>
	<arg name="pkg" value="$(find intellwheels_irl_nav)"/>

	<group ns="jeeves">
		<!-- map server -->
		<node name="map_server" pkg="map_server" type="map_server" args="$(arg pkg)/worlds/lab.yaml" output="screen">
			<param name="frame_id" value="jeeves/map_nn0"/>
		</node>

		<!-- add rough twist estimate to odom -->
		<node name="odom_twister" pkg="intellwheels_irl_nav" type="odom_twister" output="screen"/>

		<!-- navigation -->
		<node name="nav" pkg="move_base" type="move_base" clear_params="true" output="screen">
			<rosparam file="$(arg pkg)/config/nav.yaml"/>
			<rosparam file="$(arg pkg)/config/global_planner.yaml"/>
			<rosparam file="$(arg pkg)/config/local_planner.yaml"/>
			<rosparam ns="local_costmap" file="$(arg pkg)/config/common_costmap.yaml"/>
			<rosparam ns="global_costmap" file="$(arg pkg)/config/common_costmap.yaml"/>
			<rosparam file="$(arg pkg)/config/local_costmap.yaml"/>
			<rosparam file="$(arg pkg)/config/global_costmap.yaml"/>
			<remap from="odom" to="odom_twisted"/>
		</node>
	</group>
</launch>
